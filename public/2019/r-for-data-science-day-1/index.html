<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Darya Vanichkina PhD">
    <meta name="description" content="Darya Vanichkina&#39;s personal website">
    <meta name="keywords" content="data scientist, bioinformatician, teacher, educator">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="R for Data Science Day 1"/>
<meta name="twitter:description" content="Working through the R for Data Science Exercises"/>

    <meta property="og:title" content="R for Data Science Day 1" />
<meta property="og:description" content="Working through the R for Data Science Exercises" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2019/r-for-data-science-day-1/" />
<meta property="article:published_time" content="2019-12-04T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2019-12-04T00:00:00&#43;00:00"/>



    
      <base href="/2019/r-for-data-science-day-1/">
    
    <title>
  R for Data Science Day 1 · Darya Vanichkina
</title>

    
      <link rel="canonical" href="/2019/r-for-data-science-day-1/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/css/coder-inverted.min.b275a7d098cfe39135a5644e9c6d811e77fc4bdeac01e8e339c7d767146340a8.css" integrity="sha256-snWn0JjP45E1pWROnG2BHnf8S96sAejjOcfXZxRjQKg=" crossorigin="anonymous" media="screen" />
      
    

    
      <link rel="stylesheet" href="/static/css/custom.css">
    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.54.0" />
  </head>

  <body class=" inverted">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Darya Vanichkina
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/post/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/training/">Training</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="/contact/">Contact</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>R for Data Science Day 1</h1>
    </header>

    


<p>I am incredibly excited that RStudio has begun an <a href="https://education.rstudio.com/trainers/">instructor certification program</a> based on the Carpentries, so of course I signed up as soon as my overcommited nature allowed! This also provides me with the excuse and motivation to finally formally work my way through <a href="https://r4ds.had.co.nz/">R for Data Science</a>, a book I have read while waiting for GTT tests during my pregnancy and google-landed upon an umpteen number of times while debugging code, but never taken the time to sit down and do the exercises for - and of course the pedagogue in me knows quite well that THAT is how you actually learn and internalise the principles and concepts in any material, especially if it deals with programming and analysis. So over the next few weeks I plan to work my way through R4DS, and this post is the first in which I dive into the exercises.</p>
<hr />
<div id="personal-highly-non-exhaustive-notes-on-section-i-explore" class="section level2">
<h2>Personal, highly non-exhaustive notes on section I: Explore</h2>
<pre class="r"><code>library(tidyverse)</code></pre>
<div id="steps-of-the-data-pipeline" class="section level3">
<h3>Steps of the data pipeline:</h3>
<div class="figure">
<img src="https://d33wubrfki0l68.cloudfront.net/795c039ba2520455d833b4034befc8cf360a70ba/558a5/diagrams/data-science-explore.png" title="Tidy Data Pipeline" alt="https://r4ds.had.co.nz/explore-intro.html" />
<p class="caption"><a href="https://r4ds.had.co.nz/explore-intro.html" class="uri">https://r4ds.had.co.nz/explore-intro.html</a></p>
</div>
<ul>
<li><strong>Import</strong>: take data stored in a file, database, or web API, and load it into a data frame in R.</li>
</ul>
</div>
<div id="wrangling" class="section level3">
<h3>Wrangling:</h3>
<ul>
<li><p><strong>Tidying</strong> - storing data in a consistent form that matches the semantics of the dataset with the way it is stored. In brief, when your data is tidy, each column is a variable, and each row is an observation.</p></li>
<li><strong>Transformation</strong>
<ul>
<li>narrowing in on observations of interest (like all people in one city, or all data from the last year),</li>
<li>creating new variables that are functions of existing variables (like computing speed from distance and time),</li>
<li>calculating a set of summary statistics (like counts or means). Together, tidying and transforming are called wrangling</li>
</ul></li>
</ul>
</div>
</div>
<div id="small-data-vs-big-data" class="section level2">
<h2>Small data vs big data</h2>
<ul>
<li>Small/medium data: hundreds of megabytes of data, and with a little care up to 1-2 Gb of data.</li>
<li>If you’re routinely working with larger data (10-100 Gb, say), you should learn more about data.table.</li>
</ul>
</div>
<div id="is-big-data-really-big-two-ways-of-thinking-small-about-big-data" class="section level2">
<h2>Is big data really big? Two ways of thinking small about big data</h2>
<div id="sampling" class="section level3">
<h3>Sampling</h3>
<p>Sampling may be enough to answer the question.</p>
</div>
<div id="your-big-data-problem-is-actually-a-large-number-of-small-data-problems" class="section level3">
<h3>Your big data problem is actually a large number of small data problems</h3>
<ul>
<li>Each individual problem might fit in memory, but you have millions of them. For example, you might want to fit a model to each person in your dataset. That would be trivial if you had just 10 or 100 people, but instead you have a million.</li>
<li>So you need a system (like Hadoop or Spark) that allows you to send different datasets to different computers for processing.</li>
<li>Once you’ve figured out how to answer the question for a single subset using the tools described in this book, you can use tools like sparklyr, rhipe, and ddr to solve it for the full dataset.</li>
</ul>
</div>
<div id="new-to-me-ggplot-aesthetics" class="section level3">
<h3>New (to me) <code>ggplot()</code> aesthetics</h3>
<ul>
<li><p><code>stroke</code> - is either the size of the point (for a default <code>geom_point()</code>) OR, if used with shape 21-25, which have both a colour and a fill, is the thickness of the stroke around the plotted shape.</p></li>
<li><p>You can generally use geoms and stats interchangeably! For example, you can use stat_count() instead of geom_bar() to make the same plot!</p></li>
</ul>
<pre class="r"><code>ggplot(data = diamonds) + geom_bar(aes(x = cut, y = ..count.. / sum(..count..), fill = color))</code></pre>
<p><img src="/post/2019-12-04-r-for-data-science-day-1_files/figure-html/GoodProportionPlot-1.png" width="672" /></p>
<pre class="r"><code># not really new, but I&#39;m sure I&#39;ll forget position = &quot;fill&quot;
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = cut, fill = clarity), position = &quot;fill&quot;)</code></pre>
<p><img src="/post/2019-12-04-r-for-data-science-day-1_files/figure-html/ProportionalBarPlotToPreventGoogling-1.png" width="672" /></p>
<pre class="r"><code># pie chart from bar
ggplot(data = diamonds) + 
  geom_bar(mapping = aes(x = 1, fill = clarity)) + coord_polar(theta = &quot;y&quot;)</code></pre>
<p><img src="/post/2019-12-04-r-for-data-science-day-1_files/figure-html/ProportionalBarPlotToPreventGoogling-2.png" width="672" /></p>
<p>On average, humans are best able to perceive differences in angles relative to 45 degrees. The function ggthemes::bank_slopes() will calculate the optimal aspect ratio to bank slopes to 45-degrees.</p>
</div>
<div id="very-clear-table-of-ggplot-mappings-from-here" class="section level3">
<h3>Very clear table of ggplot mappings (from <a href="https://jrnold.github.io/r4ds-exercise-solutions/data-visualisation.html">here</a>)</h3>
<table>
<thead>
<tr class="header">
<th align="left">geom</th>
<th align="left">default stat</th>
<th align="left">shared docs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">geom_abline()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_hline()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_vline()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_bar()</td>
<td align="left">stat_count()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_col()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_bin2d()</td>
<td align="left">stat_bin_2d()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_blank()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_boxplot()</td>
<td align="left">stat_boxplot()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_countour()</td>
<td align="left">stat_countour()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_count()</td>
<td align="left">stat_sum()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_density()</td>
<td align="left">stat_density()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_density_2d()</td>
<td align="left">stat_density_2d()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_dotplot()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_errorbarh()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_hex()</td>
<td align="left">stat_hex()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_freqpoly()</td>
<td align="left">stat_bin()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_histogram()</td>
<td align="left">stat_bin()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_crossbar()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_errorbar()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_linerange()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_pointrange()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_map()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_point()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_map()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_path()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_line()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_step()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_point()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_polygon()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_qq_line()</td>
<td align="left">stat_qq_line()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_qq()</td>
<td align="left">stat_qq()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_quantile()</td>
<td align="left">stat_quantile()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_ribbon()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_area()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_rug()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_smooth()</td>
<td align="left">stat_smooth()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">geom_spoke()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_label()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_text()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_raster()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_rect()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">geom_tile()</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">geom_violin()</td>
<td align="left">stat_ydensity()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">geom_sf()</td>
<td align="left">stat_sf()</td>
<td align="left">x</td>
</tr>
</tbody>
</table>
</div>
<div id="very-clear-table-of-ggplot-stats-from-here" class="section level3">
<h3>Very clear table of ggplot stats (from <a href="https://jrnold.github.io/r4ds-exercise-solutions/data-visualisation.html">here</a>)</h3>
<table>
<thead>
<tr class="header">
<th align="left">stat</th>
<th align="left">default geom</th>
<th align="left">shared docs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">stat_ecdf()</td>
<td align="left">geom_step()</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">stat_ellipse()</td>
<td align="left">geom_path()</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">stat_function()</td>
<td align="left">geom_path()</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">stat_identity()</td>
<td align="left">geom_point()</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">stat_summary_2d()</td>
<td align="left">geom_tile()</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">stat_summary_hex()</td>
<td align="left">geom_hex()</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">stat_summary_bin()</td>
<td align="left">geom_pointrange()</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">stat_summary()</td>
<td align="left">geom_pointrange()</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">stat_unique()</td>
<td align="left">geom_point()</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">stat_count()</td>
<td align="left">geom_bar()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_bin_2d()</td>
<td align="left">geom_tile()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_boxplot()</td>
<td align="left">geom_boxplot()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_countour()</td>
<td align="left">geom_contour()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_sum()</td>
<td align="left">geom_point()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_density()</td>
<td align="left">geom_area()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_density_2d()</td>
<td align="left">geom_density_2d()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_bin_hex()</td>
<td align="left">geom_hex()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_bin()</td>
<td align="left">geom_bar()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_qq_line()</td>
<td align="left">geom_path()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_qq()</td>
<td align="left">geom_point()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_quantile()</td>
<td align="left">geom_quantile()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_smooth()</td>
<td align="left">geom_smooth()</td>
<td align="left">x</td>
</tr>
<tr class="odd">
<td align="left">stat_ydensity()</td>
<td align="left">geom_violin()</td>
<td align="left">x</td>
</tr>
<tr class="even">
<td align="left">stat_sf()</td>
<td align="left">geom_rect()</td>
<td align="left">x</td>
</tr>
</tbody>
</table>
</div>
</div>

  </article>
</section>


      </div>

      <footer class="footer">
  <section class="container">
    
    
    
    
  </section>

</footer>

    </main>

    

  </body>

</html>
