<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="Darya Vanichkina PhD SFHEA">
    <meta name="description" content="You&rsquo;d have to be living under a rock in the R community to not be aware of the fact that R 4.0 has been released, with some major changes, the biggest of which is probably the new default for read.table(): stringsAsFactors = FALSE, as well as the fact that matrix() now converts character columns to factors and factors to integers.
In the past, I&rsquo;ve always been too &ldquo;chicken&rdquo; to try running multiple versions of R on my work laptop, as I&rsquo;ve usually got a few key analysis projects going that need to be delivered on time and within full feature scope - which means I don&rsquo;t have time to fix basic version incompatibility bugs.">
    <meta name="keywords" content="data scientist, consultant, bioinformatician, educator">

    
      <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script>
    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Living dangerously: a newbie guide to running multiple version of R on a Mac"/>
<meta name="twitter:description" content="You&rsquo;d have to be living under a rock in the R community to not be aware of the fact that R 4.0 has been released, with some major changes, the biggest of which is probably the new default for read.table(): stringsAsFactors = FALSE, as well as the fact that matrix() now converts character columns to factors and factors to integers.
In the past, I&rsquo;ve always been too &ldquo;chicken&rdquo; to try running multiple versions of R on my work laptop, as I&rsquo;ve usually got a few key analysis projects going that need to be delivered on time and within full feature scope - which means I don&rsquo;t have time to fix basic version incompatibility bugs."/>

    <meta property="og:title" content="Living dangerously: a newbie guide to running multiple version of R on a Mac" />
<meta property="og:description" content="You&rsquo;d have to be living under a rock in the R community to not be aware of the fact that R 4.0 has been released, with some major changes, the biggest of which is probably the new default for read.table(): stringsAsFactors = FALSE, as well as the fact that matrix() now converts character columns to factors and factors to integers.
In the past, I&rsquo;ve always been too &ldquo;chicken&rdquo; to try running multiple versions of R on my work laptop, as I&rsquo;ve usually got a few key analysis projects going that need to be delivered on time and within full feature scope - which means I don&rsquo;t have time to fix basic version incompatibility bugs." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://daryavanichkina.com/posts/2020-rswitch-guide/" />
<meta property="article:published_time" content="2020-05-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-01T00:00:00+00:00" /><meta property="og:see_also" content="https://daryavanichkina.com/posts/2020-ardc-presentation-codingonline/" /><meta property="og:see_also" content="https://daryavanichkina.com/posts/2020-map-digital-2/" /><meta property="og:see_also" content="https://daryavanichkina.com/posts/2020-map-digital-1/" /><meta property="og:see_also" content="https://daryavanichkina.com/posts/2020-great-online-learning-student/" />



    <title>
  Living dangerously: a newbie guide to running multiple version of R on a Mac · Darya Vanichkina
</title>

    
      <link rel="canonical" href="https://daryavanichkina.com/posts/2020-rswitch-guide/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://daryavanichkina.com/css/coder.min.9836c03fe5c87d102278a33e86d0591ef36c89b1e17e8e547ebf84c05cee010e.css" integrity="sha256-mDbAP&#43;XIfRAieKM&#43;htBZHvNsibHhfo5Ufr&#43;EwFzuAQ4=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://daryavanichkina.com/css/coder-dark.min.717236c74e0a5208ef73964a9f44c6b443b689a95b270d8b2a40d0c012460dac.css" integrity="sha256-cXI2x04KUgjvc5ZKn0TGtEO2ialbJw2LKkDQwBJGDaw=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="https://daryavanichkina.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://daryavanichkina.com/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="https://daryavanichkina.com/images/apple-touch-icon.png">
    <link rel="apple-touch-icon"  sizes="180x180" href="https://daryavanichkina.com/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.80.0" />
  </head>
  
  
  
    
  
  <body class="colorscheme-auto"
        onload=" twemoji.parse(document.body); "
  >
    <main class="wrapper">
      <link rel="stylesheet" href="https://daryavanichkina.com/css/custom.css"><link rel="stylesheet" href="https://daryavanichkina.com/css/strapless.css">



<nav class="navigation">
    <section class="container">
      <a class="navigation-title" href="https://daryavanichkina.com/">
        Darya Vanichkina
      </a>
      
        <span id="dark-mode-toggle" class="float-right">
          <i class="fas fa-adjust fa-fw"></i>
        </span>
        <input type="checkbox" id="menu-toggle" />
        <label class="menu-button float-right" for="menu-toggle">
          <i class="fas fa-bars fa-fw"></i>
        </label>
        <ul class="navigation-list">
          
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/about/">About</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/posts/">Blog</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/projects/">Projects</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/training/">Training</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/talks/">Talks</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/cv/">CV</a>
              </li>
            
              <li class="navigation-item">
                <a class="navigation-link" href="https://daryavanichkina.com/contact/">Contact</a>
              </li>
            
          
          
          <li class="navigation-item separator">
            <span>|</span>
          </li>
        </ul>
      
    </section>
  </nav>
  

      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Living dangerously: a newbie guide to running multiple version of R on a Mac</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-05-01T00:00:00Z'>
                May 1, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              4-minute read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://daryavanichkina.com/tags/data-science/">Data science</a>
      <span class="separator">•</span>
    <a href="https://daryavanichkina.com/tags/r/">R</a>
      <span class="separator">•</span>
    <a href="https://daryavanichkina.com/tags/workjournal/">WorkJournal</a></div>

        </div>
      </header>

      <div>
        
        <p><img src="https://unsplash.com/photos/3uunq0n1WRY" alt="TBH I want to be this chicken&hellip;"></p>
<p>You&rsquo;d have to be living under a rock in the R community to not be aware of the fact that R 4.0 has been released, with some major changes, the biggest of which is probably the new default for <code>read.table()</code>: <code>stringsAsFactors = FALSE</code>, as well as the fact that <code>matrix()</code> now converts character columns to factors and factors to integers.</p>
<p>In the past, I&rsquo;ve always been too &ldquo;chicken&rdquo; to try running multiple versions of R on my work laptop, as I&rsquo;ve usually got a few key analysis projects going that need to be delivered on time and within full feature scope - which means I don&rsquo;t have time to fix basic version incompatibility bugs. But with this major new release I was sorely tempted, so have gone down the rabbit-hole of installing <a href="https://rud.is/rswitch/guide/">RSwitch</a> and R4.0 on my Mac (Catalina 10.15.4). Below I document, in what is probably excruciating detail, the steps of how I got this to work. I&rsquo;ve played with it for all of two days, and it seems to work - so I&rsquo;ve written this post in the hopes of helping others. Also, I had some funky hiccups with getting the right filepath and not using sudo at the outset, so I&rsquo;m hoping this helps someone avoid some extra <code>rm -r ...path...</code></p>
<h2 id="step-0-critical-close-r--rstudio">Step 0 (CRITICAL): Close R &amp; RStudio</h2>
<p>Make sure you have closed R and RStudio prior to embarking on the below. Updating R versions mid-analysis can have &hellip; unintended consequences.</p>
<h2 id="step-1-download-rswitch-and-install-it">Step 1: Download RSwitch and install it</h2>
<ol>
<li><a href="https://rud.is/rswitch/">Download RSwitch</a> and install it. Go through all of the hoops of getting it approved by MacOS and able to be run by accepting the risks of running software from an unidentified developer. (Eventually) End up with a nice switch icon in your menubar.</li>
</ol>
<h2 id="step-2-get-new-r">Step 2: Get new R</h2>
<p>[As usual] There is more than one way to get a new version of R onto your machine.</p>
<h4 id="option-1-gui-imho-riskier">Option 1: GUI (IMHO riskier)</h4>
<p>Download the graphical installer <code>R-4.0.0.pkg</code>, which is the top link when on <a href="https://cran.r-project.org/">CRAN</a> you click on &ldquo;Download R for (Mac) OS X&rdquo;. This is NOT the approach I took, because if done wrong this approach can remove your existing R installation, but I will describe how in theory I think it&rsquo;s meant to be used below.</p>
<h4 id="option-2-pre-built-copy-the-approach-i-took">Option 2: Pre-built copy (the approach I took)</h4>
<p>Download a pre-built <code>.tar.gz</code> copy of the R framework from the <a href="https://mac.r-project.org/">developer page</a>. In my case, I downloaded the latest stable branch <code>R-4.0-branch.tar.gz (72 Mb)</code>:</p>
<p><img src="../../images/200501_RBuilds.png" alt="Which R?"></p>
<h2 id="step-3-apply-funky-magic">Step 3: Apply funky magic</h2>
<h4 id="option-1-gui">Option 1: GUI</h4>
<p>So the reason I think the GUI is &ldquo;riskier&rdquo; is because usually when you run the GUI for a new version of R, it cleanly removes the old version of R from your machine. The workaround to prevent this from happening is to make your system, and hence the R installer, &ldquo;forget&rdquo; it has R installed. To do this you need to open a Terminal and type the following command:</p>
<pre><code>sudo pkgutil --forget org.r-project.R.el-capitan.fw.pkg \
             --forget org.r-project.x86_64.tcltk.x11 \
             --forget org.r-project.x86_64.texinfo \
             --forget org.r-project.R.el-capitan.GUI.pkg
</code></pre><p>For details about <strong>why</strong> this works see <a href="https://cran.rstudio.org/doc/manuals/R-admin.html#Multiple-versions">here</a>.</p>
<p>After that completes successfully (note:  you&rsquo;ll need to enter your password to use sudo) you can run the GUI installer.</p>
<h4 id="option-2-command-line">Option 2: Command line</h4>
<p>I&rsquo;m fairly comfortable with the command line, so was happy to use that option, but did make a few silly mistakes with the paths, so am documenting what worked below, in the hope that it helps others:</p>
<ol>
<li>
<p>Use the Terminal (<code>cd ...</code>) to navigate to where you&rsquo;ve got the <code>R.***.tar.gz</code> and record its location, or -if you already know it - just copy the path to it to the clipboard.</p>
</li>
<li>
<p>Navigate to your root directory: <code>cd /</code></p>
</li>
<li>
<p>Run <code>sudo tar -xvzf path_to_R_tar.gz_file</code>, where <code>path_to_R_tar.gz_file</code> is the path you saved to the clipboard. After you enter your password, R should be installed and you should have the latest version of R active on your machine.</p>
</li>
</ol>
<h2 id="step-4-painfully-battle-the-security-stuff">Step 4: Painfully battle the security stuff</h2>
<p>Try to open Rstudio. This is probably something that happens only with Option 2 above, but I got a bunch of security warnings from MacOS and had to &ldquo;Allow Anyway&rdquo; a ton (twice) before RStudio was able to load R 4.0.</p>
<p><img src="../../images/200501_Harm2.png" alt="Harm2"></p>
<p>Accept all the things:</p>
<p><img src="../../images/200501_Harm1.png" alt="Harm1"></p>
<h2 id="step-5-switch">Step 5: Switch</h2>
<p>To go back to having your existing, &ldquo;production&rdquo; version of R active on your machine use RSwitch to select that older version:</p>
<p><img src="../../images/200501_Rswitch.png" alt="pRSwitch"></p>
<hr>
<p>I hope this post has been helpful, and let me know in a comment if something isn&rsquo;t working as described or something&rsquo;s not clear. (Probably) next post: updating libraries&hellip;</p>

      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3>See also in Learning in an online live coding workshop</h3>
      <nav>
        <ul>
        
        
          
        
          
            <li>
              <a href="https://daryavanichkina.com/posts/2020-ardc-presentation-codingonline/">Jumping into digital: Lessons learned while moving live-coding workshops online</a>
            </li>
          
        
          
            <li>
              <a href="https://daryavanichkina.com/posts/2020-map-digital-2/">Mapping a live coding workshop for digital delivery (part 2)</a>
            </li>
          
        
          
            <li>
              <a href="https://daryavanichkina.com/posts/2020-map-digital-1/">Mapping a live coding workshop for digital delivery</a>
            </li>
          
        
          
            <li>
              <a href="https://daryavanichkina.com/posts/2020-great-online-learning-student/">Having a great online learning experience: a guide for students</a>
            </li>
          
        
        </ul>
      </nav>
    
  
</section>


        
        
        <script src="https://utteranc.es/client.js"
    repo= "dvanic/blog-comments"
    issue-term="pathname"
    label="comment"
    theme="github-light"
    crossorigin="anonymous"
    async>
  </script>
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
      
      
    </section>
  </footer>

    </main>

    
      
      <script src="https://daryavanichkina.com/js/dark-mode.min.0213e1773e6d1c5a644f847c67a6f8abac49a3776e2976f6008038af8c5b76a1.js"></script>
    

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-54373354-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    

    

  </body>

</html>
